{"mappings":"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","sources":["src/js/arrays.js","src/js/markup.js","src/index.js"],"sourcesContent":["export default {\n    numbers : ['1','2','3','4','5','6','7','8','9','0','.'],\n    operators : ['÷','x','+','-','='],\n    auxiliaryOperators : ['AC','+/-','%'],\n    }","import arrays from \"./arrays\";\nconst {numbers,operators,auxiliaryOperators} = arrays;\n\nconst blocksRefs = {\n    numbers:document.querySelector('.buttons__numbers'),\n    operators:document.querySelector('.buttons__operators'),\n    auxiliaryOperators:document.querySelector('.buttons__auxiliary-operators'),\n  }\n\ncreateMurkup(numbers,blocksRefs.numbers)\n  createMurkup(operators,blocksRefs.operators)\n  createMurkup(auxiliaryOperators,blocksRefs.auxiliaryOperators)\n  \n  const btnZero = document.querySelector(\"[data-number='0']\");\n  btnZero.classList.add('button-zero')\n  \n  \n  export function createMurkup (arr,block){\n    const markup = arr.map(e => {\n      return `<button data-number='${e}' class='button js-button'>${e}</button>`\n    }) .join('')\n  \n    block.insertAdjacentHTML('afterbegin', markup)\n  }","import './js/markup'\nimport  arrays  from \"./js/arrays\"\nconst {numbers,operators} = arrays;\n\n  // ////////////// ЛОГИКА \n  \n  let a = '';\n  let b = '';\n  let sign = '';\n  let result = 0;\n  \n  const buttonsRef = document.querySelector('.js-buttons');\n  const outputRef = document.querySelector('.output');\n  const alternativeOutputRef = document.querySelector('.alternative-output');\n  \n  buttonsRef.addEventListener('click', calculator);\n  \n  // ////////////////////////////////////////\n  \n  function calculator(e){\n    const value = e.target.dataset.number;\n    \n     if(e.target.nodeName !== 'BUTTON'){\n     }\n  \n     if(a.length >= 11 || b.length >= 11){\n      return\n     }\n  \n     if(b === '' && sign === '' && numbers.includes(value)){\n      a += value\n     }\n  \n     if(a !== '' && sign === '' && value === '+/-'){\n      changeSign()\n     }\n  \n     if(a !== '' && b === '' && operators.includes(value) || value === '%'){\n      sign = value === '='? '' : value;\n     }\n  \n     if(a !== '' && sign !== '' && numbers.includes(value)){\n      b += value\n     }\n  \n     if(a !== '' &&  b !== '' && sign !== ''){\n      clculateHandler(Number(a),Number(b),sign)\n      alternativeOutputRef.textContent = result;\n     }\n  \n     if(a !== '' &&  b !== '' && sign !== '' && operators.includes(value)){\n      clculateHandler(Number(a),Number(b),sign)\n      \n      a = makeA(result)\n      b = ''\n      sign = value === '=' ? '' : value;\n      if(sign === ''){\n        alternativeOutputRef.textContent = ''\n      }\n      result = 0;\n     }\n  \n     if(value === 'AC'){\n      clearHandler()\n     }\n     outputRef.textContent = `${a} ${sign} ${b}`\n     if(outputRef.textContent.length > 12){\n      outputRef.classList.add('longOutputStyle')\n     }\n  \n     console.log(sign);\n    }\n  \n    // замена знака числа\n  \n    function changeSign(){\n      if(Math.sign(a) === 1 || Math.sign(a) === 0){\n        a = -a\n        return\n      }\n  \n      if(Math.sign(a) === -1 || Math.sign(a) === -0){\n        a = Math.abs(a)\n        return\n      }\n    }\n  \n    // ///////////////////////////////////////////////\n  \n      // подсчет результата\n  \n      function clculateHandler(a,b,sign){  \n        switch(sign){\n         case '+':\n           result = a+b;\n           break;\n         case '-':\n           result = a-b;\n           break;\n         case 'x':\n           result = a*b;\n           break;\n         case '÷':\n           result = a/b;\n           break;\n         case '%':\n          result = b / 100 * a\n         default: return\n        }\n   }\n  \n    // очистка \n  \n    function clearHandler(){\n      a = ''\n      b = ''\n      sign = ''\n    }\n  \n    // округление результата\n  \n    function makeA(num){\n       if(num.toString().length > 5 && !Number.isInteger(num)){\n        num = num.toFixed(3)\n       }\n       return num.toString()\n    }\n  \n"],"names":["$0912b6c18434197a$export$2e2bcd8739ae039","numbers","operators","auxiliaryOperators","$1457a8b41868a85b$var$numbers","$1457a8b41868a85b$var$operators","$1457a8b41868a85b$var$auxiliaryOperators","$1457a8b41868a85b$var$blocksRefs","document","querySelector","$1457a8b41868a85b$export$ad754d85cf33dc3f","arr","block","markup","map","e","concat","join","insertAdjacentHTML","classList","add","$b8f9b7833fa37166$var$numbers","$b8f9b7833fa37166$var$operators","$b8f9b7833fa37166$var$a","$b8f9b7833fa37166$var$b","$b8f9b7833fa37166$var$sign","$b8f9b7833fa37166$var$result","$b8f9b7833fa37166$var$buttonsRef","$b8f9b7833fa37166$var$outputRef","$b8f9b7833fa37166$var$alternativeOutputRef","$b8f9b7833fa37166$var$clculateHandler","a1","b1","sign1","addEventListener","value","target","dataset","number","nodeName","length","includes","Math","sign","abs","$b8f9b7833fa37166$var$changeSign","Number","textContent","num","toString","isInteger","toFixed","$b8f9b7833fa37166$var$makeA","console","log"],"version":3,"file":"index.ea9c06c6.js.map"}